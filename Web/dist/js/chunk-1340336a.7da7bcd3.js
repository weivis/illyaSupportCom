(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1340336a"],{"18a3":function(t,a,i){},"3a0e":function(t,a,i){"use strict";i.r(a);var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"apps"},[i("div",{staticClass:"Common page-width"},[0===t.ops?i("div",[i("div",{staticClass:"top"},[i("div",{staticClass:"l"},[i("el-upload",{attrs:{"show-file-list":!1,drag:"",action:"","http-request":t.upLoad,multiple:""}},[t.loadcover?i("img",{staticStyle:{width:"100%"},attrs:{src:t.loadcover}}):t._e(),i("i",{staticClass:"el-icon-upload"}),i("div",{staticClass:"el-upload__text"},[t._v(" 将文件拖到此处，或 "),i("em",[t._v("点击上传")])])])],1),i("div",{staticClass:"r"},[i("el-row",{staticClass:"common rwoh"},[t._v(" 投稿类目 "),i("el-radio-group",{staticStyle:{"margin-right":"15px"},model:{value:t.classification,callback:function(a){t.classification=a},expression:"classification"}},[i("el-radio-button",{attrs:{label:1}},[t._v("MAD·AMV")]),i("el-radio-button",{attrs:{label:2}},[t._v("MMD")]),i("el-radio-button",{attrs:{label:3}},[t._v("技术宅")]),i("el-radio-button",{attrs:{label:4}},[t._v("其他")])],1),1===t.classification?i("span",[t._v(" MAD类型 "),i("el-radio-group",{staticStyle:{"margin-right":"15px"},model:{value:t.content_classification,callback:function(a){t.content_classification=a},expression:"content_classification"}},[i("el-radio-button",{attrs:{label:1}},[t._v("静止系")]),i("el-radio-button",{attrs:{label:2}},[t._v("剪辑向")]),i("el-radio-button",{attrs:{label:3}},[t._v("混合")])],1)],1):t._e()],1),i("el-row",{staticClass:"common rwoh"},[i("div",{staticStyle:{float:"left"}},[t._v(" 作品来源 "),i("el-radio-group",{staticStyle:{"margin-right":"15px"},model:{value:t.original_type,callback:function(a){t.original_type=a},expression:"original_type"}},[i("el-radio-button",{attrs:{label:1}},[t._v("原创")]),i("el-radio-button",{attrs:{label:2}},[t._v("转载")])],1)],1),2===t.original_type?i("div",{staticStyle:{float:"left"}},[i("el-input",{attrs:{placeholder:""},model:{value:t.original_author,callback:function(a){t.original_author=a},expression:"original_author"}},[i("template",{slot:"prepend"},[t._v("原作者名")])],2)],1):t._e()]),2===t.original_type?i("el-row",{staticClass:"common rwoh"},[i("el-input",{attrs:{placeholder:"http://xxxxx"},model:{value:t.original_url,callback:function(a){t.original_url=a},expression:"original_url"}},[i("template",{slot:"prepend"},[t._v("转载地址")])],2)],1):t._e(),i("div",{staticClass:"line"}),i("el-row",{staticClass:"common rwoh"},[i("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.title,callback:function(a){t.title=a},expression:"title"}},[i("template",{slot:"prepend"},[t._v("视频标题")])],2)],1),i("el-row",{staticClass:"common rwoh"},[i("el-input",{attrs:{type:"textarea",rows:6,placeholder:"视频介绍"},model:{value:t.introduce,callback:function(a){t.introduce=a},expression:"introduce"}})],1)],1)]),i("div",{staticClass:"line"}),i("div",{staticClass:"bottom"},[i("el-row",{staticClass:"common rwoh"},[t._v(" 投稿源 "),i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.source_type,callback:function(a){t.source_type=a},expression:"source_type"}},t._l(t.options,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),i("el-row",{staticClass:"common rwoh"},[i("el-input",{attrs:{placeholder:"如 https://www.bilibili.com/video/xxxxxxx"},model:{value:t.videoloadurl,callback:function(a){t.videoloadurl=a},expression:"videoloadurl"}},[i("template",{slot:"prepend"},[t._v("视频地址, 例如B站播放地址等")])],2)],1)],1),i("div",{staticClass:"line"}),i("div",{staticClass:"uploadbutton",on:{click:function(a){return t.Send()}}},[!0===t.edit?i("span",[t._v("确认编辑")]):t._e(),!1===t.edit?i("span",[t._v("确认无误投稿")]):t._e()])]):t._e(),1===t.ops?i("div",{staticClass:"page2"},[t._m(0),i("div",{staticClass:"ico"},[!0===t.edit?i("span",[t._v("编辑成功")]):t._e(),!1===t.edit?i("span",[t._v("投稿成功")]):t._e()])]):t._e()])])},o=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"ico"},[i("i",{staticClass:"el-icon-success"})])}],l={name:"Home",data:function(){return{ops:0,options:[{value:1,label:"BiliBili"},{value:2,label:"Acfun(暂时未开放)"},{value:3,label:"直传(暂时未开放)"}],id:0,edit:!1,loadcover:"",cover:"",classification:"",content_classification:0,title:"",introduce:"",source_type:1,original_type:1,original_url:"",original_author:"",videoloadurl:"",pageid:this.$route.query.id}},components:{},methods:{start:function(){this.pageid&&this.getdata()},getdata:function(){var t=this;this.$http.VideoQuery({id:this.pageid}).then((function(a){200==a.code&&(t.edit=!0,t.id=a.data.id,t.cover=a.data.filecover,t.loadcover=a.data.cover,t.classification=a.data.classification,t.content_classification=a.data.content_classification,t.title=a.data.title,t.introduce=a.data.introduce,t.source_type=a.data.source_type,t.original_type=a.data.original_type,t.original_url=a.data.original_url,t.original_author=a.data.original_author,t.videoloadurl=a.data.videoloadurl)})).catch((function(t){console.log("error",t)}))},Send:function(){var t=this;this.$http.VideoUploadOrEdit({id:this.id,cover:this.cover,classification:this.classification,content_classification:this.content_classification,title:this.title,introduce:this.introduce,source_type:this.source_type,original_type:this.original_type,original_url:this.original_url,original_author:this.original_author,videoloadurl:this.videoloadurl}).then((function(a){200==a.code&&(t.ops=1)})).catch((function(t){console.log("error",t)}))},upLoad:function(t){var a=this,i=new FormData;i.append("file",t.file),i.append("uploadKey","videocover"),console.log(t),this.$http.upload(i).then((function(t){console.log(t),console.log("上传成功"),200===t.code&&(a.cover=t.data.filename,a.loadcover=t.data.lodpath)}))}},created:function(){var t=this.$authUser.getUser();null==t&&this.$router.push({name:"home"}),this.start()}},s=l,n=(i("c128"),i("2877")),r=Object(n["a"])(s,e,o,!1,null,"afd869d0",null);a["default"]=r.exports},c128:function(t,a,i){"use strict";var e=i("18a3"),o=i.n(e);o.a}}]);
//# sourceMappingURL=chunk-1340336a.7da7bcd3.js.map